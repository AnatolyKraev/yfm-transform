# Синтаксис Yandex Flavored Markdown (YFM)

## Содержание

- [Заголовки](#headers)
- [Начертания](#tracings)
- [Списки](#lists)
    - [Неупорядоченный список](#unordered_list)
    - [Упорядоченный список](#ordered_list)
- [Таблицы](#tabels)
- [Ссылки](#links)
- [Вставка кода](#code)
    - [Фрагмент кода как часть предложения](#inline-code)
    - [Фрагмент кода отдельным блоком](#codeblock)
- [Изображения](#images)
    - [Прямая вставка](#direct_insert)
    - [Вставка через ссылку](#link_insert)
- [Заметки](#notes)
    - [Примечание](#comments)
    - [Предупреждение](#warnings)
    - [Совет](#advice)
    - [Важно](#important)
- [Вставки (инклуды)](#includes)
- [Табы](#tabs)
- [Каты](#cuts)
- [Переменные](#vars)
    - [Подстановки](#substitudes)
    - [Условные операторы](#conditions)
- [Метаданные](#meta)

## Заголовки <a name="headers"></a>

Чтобы создать заголовок, используйте символ (#), например:

```markdown
# Заголовок h1
## Заголовок h2
### Заголовок h3
#### Заголовок h4
```

В YFM используется 4 уровня заголовков. Заголовок страницы должен быть первого уровня. Для заголовков подразделов можно использовать второй, третий и четвертый уровни.

**Важно!** Нельзя пропускать вложенность заголовков.

## Начертания <a name="tracings"></a>

Чтобы задать для текста **полужирное** начертание, заключите его в двойные звездочки (`*`):

```markdown
Этот текст выделен **полужирным шрифтом**.
```

Чтобы задать для текста _курсивное_ начертание, заключите его в знаки подчеркивания:

```markdown
Этот текст выделен _курсивом_.
```

Чтобы задать для текста _**полужирное и курсивное**_ начертание, заключите
его одновременно в двойные звездочки и знаки подчеркивания:

```markdown
Этот текст _**жирный и наклонный**_.
Этот текст **_жирный и наклонный_**.
```

Чтобы ввести символы в <sup>верхнем индексе</sup> их нужно обернуть в ^:

```markdown
Этот текст в ^верхнем индексе^.
```

## Списки <a name="lists"></a>

### Неупорядоченный список <a name="unordered_list"></a>

Чтобы оформить неупорядоченный маркированный список, используйте символы символы `*`, `-` или `+`.

Например, разметка:

```markdown
- Элемент 1
- Элемент 2
- Элемент 3
```

будет отображаться как:

- Элемент 1
- Элемент 2
- Элемент 3

Чтобы оформить вложенный маркированный список, добавьте отступ для элементов дочернего списка. Допустимый размер отступа — от двух до пяти пробелов. Рекомендуемый размер отступа — три пробела.

Например, разметка:

```markdown
- Элемент 1
   - Элемент A
   - Элемент B
- Элемент 2
```

будет отображаться как:

- Элемент 1
   - Элемент A
   - Элемент B
- Элемент 2

### Упорядоченный список <a name="ordered_list"></a>

Чтобы оформить упорядоченный нумерованый список, используйте цифры с символом `.` или `)`. Рекомендованный формат разметки: цифра `1` и символ `.`.

Например, разметка:

```
1. Первый пункт
1. Второй пункт
1. Третий пункт
```

будет отображаться как:

1. Первый пункт
2. Второй пункт
3. Третий пункт

Чтобы оформить вложенный упорядоченный список, добавьте отступ для элементов дочернего списка. Допустимый размер отступа — от двух до пяти пробелов. Рекомендуемый размер отступа — три пробела.

Например, разметка:

```
1. Первый пункт
    1. Вложенный пункт
    1. Вложенный пункт
1. Второй пункт
```

будет отображаться как:

1. Первый пункт
    1.1. Вложенный пункт
    1.2. Вложенный пункт
2. Второй пункт


## Таблицы <a name="tabels"></a>

Таблицы состоят из одной строки с заголовками, разделительной строки и строк с данными.

Каждая строка таблицы состоит из ячеек, отделенных друг от друга символами `|`.

В ячейках разделительной строки используются только символы `-` и `:`. Символ `:` ставится в начале, в конце или с обеих сторон содержимого ячейки разделительной строки, чтобы обозначить выравнивание текста в соответствующем столбце по левой стороне, по правкой стороне или по центру.

Таблицу нужно отделять от предшествующего и последующего текста пустыми строками.

Например, разметка:

```markdown
Колонка по левому краю | Колонка по правому краю | Колонка по центру
:--- | ---: | :---:
Текст | Текст | Текст
```

будет отображаться как:

Колонка по левому краю | Колонка по правому краю | Колонка по центру
:--- | ---: | :---:
Текст | Текст | Текст

## Ссылки <a name="links"></a>

Ссылки имеют вид  `[текст](ссылка)`, где:

  * `[текст]` — текст ссылки.
  * `(ссылка)` — URL или путь до файла, на который делается ссылка.

Например, разметка:
```markdown
[ссылка на README.md](README.md)
```

будет отображаться так:

[ссылка на README.md](README.md)

### Ссылки с автоматической подстановкой текста из заголовка <a name="linkTitle"></a>

В при ссылке на другой YFM-документ, у вас есть возможность вставлять ссылку без указания текста ссылки. В этом случае текст ссылки подставится автоматически из заголовка указанного файла.

Например, ссылка:

```markdown
[{#T}](README.md)
```

будет отображаться так:

[Yandex Flavored Markdown](README.md)

## Вставка кода <a name="code"></a>

Вы можете встроить фрагмент кода в текст абзаца или вынести его в отдельный блок.

### <a name="inline-code"></a>Фрагмент кода как часть предложения

Чтобы оформить фрагмент кода как часть предложения, используйте символ <code>`</code>.

Например, разметка:

```markdown
Предложение с `фрагментом кода`.
```

будет отображаться так:

Предложение с `фрагментом кода`.

### <a name="codeblock"></a>Фрагмент кода отдельным блоком

Чтобы оформить фрагмент кода как отдельный блок, используйте утроенный символ <code>`</code>. Для подсветки синтаксиса укажите язык, на котором написан код.

Например, разметка:

    ```js
    let a= 10;
    ```

будет отобраться как фрагмент кода с подсветкой:

```js
let a= 10;
```

## Изображения <a name="images"></a>

### Прямая вставка <a name="direct_insert"></a>

Чтобы вставить изображение в документ, воспользуйтесь разметкой вида

```markdown
![alt text](_assets/image.png "Текст подсказки" =100x200)
```

Здесь:

* `[alt text]` —  альтернативный текст изображения;
*  `_assets/image.png` — путь до файла изображения;

   **Важно!** изображения должны храниться в каталоге, имя которого начинается с символа `_`, иначе они будут удалены при сборке.

* `"Текст подсказки"` — текст подсказки при наведении указателя на изображение;
* `=100x200` — размер изображения в пикселях.

### Вставка через ссылку <a name="link_insert"></a>

Вы можете один раз объявить изображение в тексте документа, а затем использовать его в тексте с помощью короткой сслки. Для этого:

1. Объявите изображение:

   ```markdown
   [image]: _assets/image.png "Текст подсказки"
   ```

1. Вставьте изображение с помощью разметки:

   ```markdown
   ![alt text][image]
   ```

Такой способ может быть удобен, когда нужно вставить одно изображение несколько раз.

## Заметки <a name="notes"></a>

Заметка — это визуально выделенный блок, который позволяет привлечь внимание к определенному содержимому.

Существует 4 типа заметок: примечание (info), совет (tip), внимание (alert) и предупреждение (warning).

Не следует часто использовать блоки заметок, так как они могут отвлекать пользователя от основного содержимого.
Также, хотя эти элементы могут содержать YFM, лучше не перегружать их, делая простыми и понятными.

### Примечание <a name="comments"></a>

```markdown
{% note info %}

Это примечание.

{% endnote %}
```

![note-info](docsAssets/note.jpg)


### Важно <a name="warnings"></a>

```markdown
{% note warning %}

Это важная информация.

{% endnote %}
```

![note-warning](docsAssets/note-warning.jpg)

### Совет <a name="advice"></a>

```markdown
{% note tip %}

Это совет.

{% endnote %}
```

![note-tip](docsAssets/note-tip.jpg)

### Внимание <a name="error"></a>

```markdown
{% note alert %}

Это предупреждение.

{% endnote %}
```

![note-alert](docsAssets/note-alert.jpg)

### Свой заголовок <a name="error"></a>

По-умолчанию, заметки имеют стандартный заголовок, но его можно переопределить:

```markdown
{% note info "Custom title" %}

Это важная информация.

{% endnote %}
```

Если в кавычках ничего не указывать, у заметки не будет никакого заголовка:

```markdown
{% note info "" %}

Это важная информация.

{% endnote %}
```

## Вставки <a name="includes"></a>

При написании большого документационного проекта удобно часть контента выделять в отдельные файлы и использовать их в нескольких местах. Такие файлы можно вставлять в текст целиком или без заголовка.

Чтобы  использовать один и тот же контент в нескольких местах:

1. Сохраните такой текст в отдельном md-файле.

   **Важно!** Такие файлы должны храниться в каталоге, имя которого начинается с символа `_`, например `_includes`. Если этого не сделать, файлы будут удалены при сборке.

1. Вставить в документ ссылку на файл:

   ```markdown
   {% include notitle [Описание](_includes/file.md) %}
   ```

   Здесь:
   * `include` — команда, которая осуществляет вставку файла.
   * `notitle` — если параметр указан, файл будет вставлен в текст без заголовка.
   * `[Описание]` — описание файла. Не влияет на сборку, нужно только для удобства рефакторинга документа.
   * `(_includes/file.md)` — путь до файла.

В результате при сборке контент файла будет вставлен в документ. Если в файле есть относительные ссылки на другие документы или изображения, они будут перестроены.

## Вкладки <a name="tabs"></a>

Вы можете оформить текст в виде вкладок. Это может быть полезно, например, чтобы разделить схожий контент и не перегружать страницу0 текстом:

![табы](docsAssets/tabs.jpg)

Чтобы создать вкладки используйте разметку вида:

```markdown
{% list tabs %}

- Название таба1

  Контент таба1.

  - Можно исполдьзовать списки.
  - И **другую** разметку.

- Название таба2

  Контент таба2.

{% endlist %}
```

**Важно!** При использовании вкладок обязательно оставлять пустые строки:

* Перед и после строк `{% list tabs %}` и `{% endlist %}`.
* Между текстом одной вкладки и заголовком следующей вкладки.

Внутри вкладок можно использовать YFM-разметку: списки, таблицы, изображения, код и т.д.

## Каты <a name="cuts"></a>

Каты позволяют сворачивать контент ("убирать под кат"). Это можно использовать в длинных листингах, примерах кода и тд. Внутри катов можно использовать YFM.

Чтобы создать кат используйте разметку вида:

```markdown
{% cut "Заголовок ката" %}

Контент который мы хотим скрыть

{% endcut %}
```

## Переменные <a name="vars"></a>

При написании документации вы можете объявлять и использовать переменные. При сборке переменные будут подставлены в текст документации или использованы для вычисления условий. Это удобно, например, для сборки документации разных версий сервиса.

### Подстановки <a name="substitudes"></a>

Чтобы объявить использовать переменные в документе:

1. Создайте в корневом каталоге документа файл `presets.yaml`.
1. Объявите переменные в файле `presets.yaml` в формате:

   ```
   default:
     variable-name-1: значение переменной 1
     variable-name-2: значение переменной 2
   ```

1. Чтобы вставить значение переменной в документ как текст, используйте разметку:

   ```
   Какой-то текст {{variable-name-1}} продолжение текста.
   ```

### Условные операторы <a name="conditions"></a>

Вы можете включать в сборку документа тот или иной фрагмент текста в зависимости от значений переменных.

Например, чтобы собрать две версии документа для разных ОС используйте разметку вида:

```
{% if  OS == iOS%}

Скачайте приложение в [App Store](https://www.apple.com/ios/app-store/).

{% else %}

Скачайте приложение в [Google Play](https://play.google.com).

{% endif %}
```

Доступны условные операторы `if`, `else if`, `else`. В них можно использовать различные операторы сравнения: `==`, `!=`, `<`, `>`, `<=`, `>=`.

Условные операторы могут содержать как простой текст, так и блоки YFM разметки.

## Метаданные <a name="meta"></a>

В начале файла можно добавить метаданные в формате yaml.

```
---
title: Заголовок
description: Описание
---
```
